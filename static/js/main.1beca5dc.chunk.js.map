{"version":3,"sources":["components/Header/molecules/Profile/Profile.module.css","components/ConversationList/molecules/ConversationSearch/ConversationSearch.module.css","components/Header/molecules/WindowActions/WindowActions.jsx","components/Header/molecules/Profile/Profile.jsx","components/Header/Header.jsx","components/ConversationList/molecules/ConversationSearch/ConversationSearch.jsx","redux/slices/uiSlice.js","redux/slices/chatSlice.js","components/ConversationList/molecules/ConversationPreview/ConversationPreview.jsx","components/ConversationList/ConversationList.jsx","components/Conversation/molecules/Chat/molecules/ChatInput/ChatInput.jsx","components/Conversation/molecules/Chat/molecules/MessageBunch/MessageBunch.jsx","components/Conversation/molecules/Chat/Chat.jsx","components/Conversation/molecules/ConversationHeader/ConversationHeader.jsx","components/Conversation/Conversation.jsx","components/Body/Body.jsx","App.jsx","redux/store.js","index.js","components/Conversation/molecules/Chat/molecules/MessageBunch/MessageBunch.module.css","components/ConversationList/ConversationList.module.css","components/Conversation/molecules/Chat/Chat.module.css","components/Header/Header.module.css","components/Body/Body.module.css","components/Conversation/Conversation.module.css","components/Conversation/molecules/ConversationHeader/ConversationHeader.module.css","components/ConversationList/molecules/ConversationPreview/ConversationPreview.module.css","components/Header/molecules/WindowActions/WindowActions.module.css","components/Conversation/molecules/Chat/molecules/ChatInput/ChatInput.module.css"],"names":["module","exports","WindowActions","className","styles","container","button","close","minimize","fullscreen","Profile","avatar_container","src","faker","image","avatar","alt","name","fake","dropdown","Header","ConversationSearch","field_region","icon","input","type","placeholder","add_conversation","uiSlice","createSlice","initialState","conversationId","reducers","conversationSwitched","state","action","payload","conversationClosed","actions","makeKeyGenerator","key","generateConversationKey","generateAuthorKey","conversations","Array","Math","ceil","random","map","id","read","target","avatarUrl","messages","timestamp","Date","getTime","content","hacker","phrase","outgoing","chatSlice","conversationAdded","conversationRead","conversation","messageSent","message","getRelevantConversation","filter","messageReceived","conversationIndex","findIndex","ConversationPreview","selected","previewText","dispatch","useDispatch","useEffect","interval","setInterval","clearInterval","unread","onClick","handleClick","metadata","preview","empty_preview","ConversationList","useSelector","chat","ui","list","index","lastMessage","length","ChatInput","useState","value","setValue","label","onChange","ev","onKeyDown","buttons","Message","parseDateObject","date","hours","getHours","minutes","getMinutes","meridiem","parsedHours","parsedMinutes","parsedTime","weekday","toLocaleString","month","day","getDate","year","getFullYear","parsed","MessageBunch","bunch","data-timestamp","messageContent","Chat","x","bunches","entries","last","push","bunchMessages","ConversationHeader","recipient","Conversation","Body","App","store","configureStore","reducer","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1beca5dc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Profile_container__337vP\",\"avatar\":\"Profile_avatar__3msxI\",\"name\":\"Profile_name__FJPWy\",\"dropdown\":\"Profile_dropdown__3pEOT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ConversationSearch_container__2sZsC\",\"field_region\":\"ConversationSearch_field_region__2fJMA\",\"icon\":\"ConversationSearch_icon__2cm5w\",\"input\":\"ConversationSearch_input__xUc_v\",\"add_conversation\":\"ConversationSearch_add_conversation__2D_2b\"};","import React from \"react\";\r\nimport styles from \"./WindowActions.module.css\";\r\n\r\nfunction WindowActions() {\r\n  return (\r\n    <div className={styles.container}>\r\n      <button className={`${styles.button} ${styles.close}`}></button>\r\n      <button className={`${styles.button} ${styles.minimize}`}></button>\r\n      <button className={`${styles.button} ${styles.fullscreen}`}></button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default WindowActions;\r\n","import React from \"react\";\r\nimport styles from \"./Profile.module.css\";\r\n\r\nimport faker from \"faker\";\r\n\r\nfunction Profile() {\r\n  return (\r\n    <div className={styles.container}>\r\n      <div className={styles.avatar_container}>\r\n        <img\r\n          src={faker.image.avatar()}\r\n          alt=\"user avatar\"\r\n          className={styles.avatar}\r\n        />\r\n      </div>\r\n      <div className={styles.name}>\r\n        {faker.fake(\"{{name.firstName}} {{name.lastName}}\")}\r\n      </div>\r\n      <div className={styles.dropdown}></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n","import React from \"react\";\r\nimport styles from \"./Header.module.css\";\r\n\r\nimport WindowActions from \"./molecules/WindowActions/WindowActions\";\r\nimport Profile from \"./molecules/Profile/Profile\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <div className={styles.container}>\r\n      <WindowActions></WindowActions>\r\n      <Profile></Profile>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport styles from \"./ConversationSearch.module.css\";\r\n\r\nimport { FiSearch, FiEdit } from \"react-icons/fi\";\r\n\r\nfunction ConversationSearch() {\r\n  return (\r\n    <div className={styles.container}>\r\n      <label className={styles.field_region}>\r\n        <FiSearch className={styles.icon} />\r\n        <input className={styles.input} type=\"text\" placeholder=\"Search...\" />\r\n      </label>\r\n      <button className={styles.add_conversation}>\r\n        <FiEdit />\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ConversationSearch;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst uiSlice = createSlice({\r\n  name: \"ui\",\r\n  initialState: {\r\n    conversationId: 0,\r\n  },\r\n  reducers: {\r\n    conversationSwitched: (state, action) => {\r\n      return { conversationId: action.payload };\r\n    },\r\n    conversationClosed: (state, action) => {},\r\n  },\r\n});\r\n\r\nexport const { conversationSwitched, conversationClosed } = uiSlice.actions;\r\nexport default uiSlice.reducer;\r\n","import faker from \"faker\";\r\nimport { createSlice } from \"@reduxjs/toolkit\";\r\n\r\n/**\r\n * A user object.\r\n * @typedef {{ id: number, name: string, avatarUrl: string }} User\r\n */\r\n\r\n/**\r\n * A message object.\r\n * @typedef {{ conversationId: number, timestamp: Date, content: string, outgoing: boolean }} Message\r\n */\r\n\r\n/**\r\n * A conversation object.\r\n * @typedef {{ id: number, target: User, messages: Message[], read: boolean }}\r\n */\r\n\r\nfunction makeKeyGenerator(key = -1) {\r\n  return function () {\r\n    return ++key;\r\n  };\r\n}\r\n\r\nconst generateConversationKey = makeKeyGenerator();\r\nconst generateAuthorKey = makeKeyGenerator();\r\n\r\n// I would never actually name a function this.\r\nconst generateMumboJumboConvo = () => {\r\n  return [...Array(Math.ceil(Math.random() * 10))].map(() => {\r\n    return {\r\n      timestamp: new Date().getTime(),\r\n      content: faker.hacker.phrase(),\r\n      outgoing: Math.random() > 0.5,\r\n    };\r\n  });\r\n};\r\n\r\nconst generateConversations = () => {\r\n  return [...Array(Math.ceil(Math.random() * 15 + 3))].map(() => {\r\n    return {\r\n      id: generateConversationKey(),\r\n      read: Math.random() > 0.5,\r\n      target: {\r\n        id: generateAuthorKey(),\r\n        name: faker.fake(\"{{name.firstName}} {{name.lastName}}\"),\r\n        avatarUrl: faker.image.avatar(),\r\n      },\r\n      messages: generateMumboJumboConvo(),\r\n    };\r\n  });\r\n};\r\n\r\nconst initialState = {\r\n  conversations: generateConversations(),\r\n};\r\n\r\nconst chatSlice = createSlice({\r\n  name: \"chat\",\r\n  initialState,\r\n  reducers: {\r\n    conversationAdded: (state, action) => {\r\n      // ...\r\n    },\r\n    conversationRead: (state, action) => {\r\n      return {\r\n        ...state,\r\n        conversations: state.conversations.map((conversation) => {\r\n          if (conversation.id !== action.payload) return conversation;\r\n          return { ...conversation, read: true };\r\n        }),\r\n      };\r\n    },\r\n    messageSent: (state, action) => {\r\n      const {\r\n        conversationId,\r\n        timestamp = new Date().getTime(),\r\n        content,\r\n      } = action.payload;\r\n\r\n      const message = { timestamp, content, outgoing: true };\r\n      const conversation = getRelevantConversation(state, conversationId);\r\n\r\n      return {\r\n        ...state,\r\n        conversations: [\r\n          {\r\n            ...conversation,\r\n            messages: [...conversation.messages, message],\r\n          },\r\n          ...state.conversations.filter(\r\n            (conversation) => conversation.id !== conversationId\r\n          ),\r\n        ],\r\n      };\r\n    },\r\n    messageReceived: (state, action) => {\r\n      const {\r\n        conversationId,\r\n        timestamp = new Date().getTime(),\r\n        content,\r\n      } = action.payload;\r\n\r\n      const message = { timestamp, content, outgoing: false };\r\n      const conversation = getRelevantConversation(state, conversationId);\r\n\r\n      return {\r\n        ...state,\r\n        conversations: [\r\n          {\r\n            ...conversation,\r\n            messages: [...conversation.messages, message],\r\n            read: false,\r\n          },\r\n          ...state.conversations.filter(\r\n            (conversation) => conversation.id !== conversationId\r\n          ),\r\n        ],\r\n      };\r\n    },\r\n  },\r\n});\r\n\r\nfunction getRelevantConversation(state, conversationId) {\r\n  const conversationIndex = state.conversations.findIndex((conversation) => {\r\n    return conversation.id === conversationId;\r\n  });\r\n\r\n  return state.conversations[conversationIndex];\r\n}\r\n\r\nexport const {\r\n  conversationAdded,\r\n  conversationRead,\r\n  messageSent,\r\n  messageReceived,\r\n} = chatSlice.actions;\r\n\r\nexport default chatSlice.reducer;\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { conversationSwitched } from \"../../../../redux/slices/uiSlice\";\r\nimport { messageReceived } from \"../../../../redux/slices/chatSlice\";\r\n\r\nimport faker from \"faker\";\r\n\r\nimport styles from \"./ConversationPreview.module.css\";\r\n\r\n/**\r\n *\r\n * @param {{\r\n *  id: number,\r\n *  selected: boolean,\r\n *  read: boolean,\r\n *  name: string,\r\n *  avatar: string,\r\n *  previewText: string\r\n * }} param0\r\n * @returns\r\n */\r\nfunction ConversationPreview({\r\n  id,\r\n  selected,\r\n  read,\r\n  name,\r\n  avatar,\r\n  previewText,\r\n}) {\r\n  const dispatch = useDispatch();\r\n\r\n  const handleClick = (id) => {\r\n    dispatch(conversationSwitched(id));\r\n  };\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      dispatch(\r\n        messageReceived({\r\n          conversationId: id,\r\n          content: faker.hacker.phrase(),\r\n        })\r\n      );\r\n    }, Math.random() * 15000 + 30000);\r\n\r\n    return () => clearInterval(interval);\r\n  }, [dispatch, id]);\r\n\r\n  return (\r\n    <div\r\n      className={`\r\n        ${styles.container} \r\n        ${read ? \"\" : styles.unread} ${selected ? styles.selected : \"\"}`}\r\n      onClick={() => handleClick(id)}\r\n    >\r\n      <div className={styles.avatar_container}>\r\n        <img className={styles.avatar} src={avatar} alt=\"avatar\" />\r\n      </div>\r\n      <div className={styles.metadata}>\r\n        <div className={styles.name}>{name}</div>\r\n        <div\r\n          className={`${previewText ? styles.preview : styles.empty_preview}`}\r\n        >\r\n          {previewText || \"No Messages...\"}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ConversationPreview;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport styles from \"./ConversationList.module.css\";\r\n\r\nimport ConversationSearch from \"./molecules/ConversationSearch/ConversationSearch\";\r\nimport ConversationPreview from \"./molecules/ConversationPreview/ConversationPreview\";\r\n\r\nfunction ConversationList() {\r\n  const { conversations } = useSelector((state) => state.chat);\r\n  const { conversationId } = useSelector((state) => state.ui);\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <ConversationSearch></ConversationSearch>\r\n      <div className={styles.list}>\r\n        {conversations.map(({ id, read, target, messages }, index) => {\r\n          const lastMessage = messages[messages.length - 1];\r\n          const previewText = lastMessage ? lastMessage.content : \"\";\r\n\r\n          return (\r\n            <ConversationPreview\r\n              id={id}\r\n              selected={conversationId === id}\r\n              read={read}\r\n              avatar={target.avatarUrl}\r\n              name={target.name}\r\n              previewText={previewText}\r\n              key={index}\r\n            ></ConversationPreview>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ConversationList;\r\n","import React, { useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { messageSent } from \"../../../../../../redux/slices/chatSlice\";\r\n\r\nimport styles from \"./ChatInput.module.css\";\r\n\r\nimport { FiMic, FiMessageSquare } from \"react-icons/fi\";\r\n\r\nfunction ChatInput() {\r\n  const { conversationId } = useSelector((state) => state.ui);\r\n  const dispatch = useDispatch();\r\n\r\n  const [value, setValue] = useState(\"\");\r\n\r\n  const handleChange = (ev) => {\r\n    setValue(ev.target.value);\r\n  };\r\n\r\n  const handleKeyDown = (ev) => {\r\n    if (ev.key !== \"Enter\" || !value) return;\r\n    dispatch(\r\n      messageSent({\r\n        conversationId,\r\n        timestamp: new Date().getTime(),\r\n        content: value,\r\n        outgoing: true,\r\n      })\r\n    );\r\n\r\n    setValue(\"\");\r\n  };\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <label className={styles.label}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Write a message...\"\r\n          className={styles.input}\r\n          value={value}\r\n          onChange={handleChange}\r\n          onKeyDown={handleKeyDown}\r\n        />\r\n      </label>\r\n      <div className={styles.buttons}>\r\n        <FiMic className={styles.icon} />\r\n        <FiMessageSquare className={styles.icon} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChatInput;\r\n","import React from \"react\";\r\nimport styles from \"./MessageBunch.module.css\";\r\n\r\n/**\r\n * Message bunch component\r\n * @param {{ outgoing: boolean, messages: string | string[], timestamp: number }}\r\n * @returns {React.ReactNode}\r\n */\r\nfunction MessageBunch({ outgoing, messages, timestamp }) {\r\n  return (\r\n    <div\r\n      className={`${styles.bunch} ${outgoing ? styles.outgoing : \"\"}`}\r\n      data-timestamp={parseDateObject(timestamp)}\r\n    >\r\n      {typeof messages === \"string\" ? (\r\n        <Message content={messages} />\r\n      ) : (\r\n        messages.map((messageContent, key) => {\r\n          return <Message content={messageContent} key={key} />;\r\n        })\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n/**\r\n * Singular message component.\r\n * @param {{ content: string }}\r\n * @returns {React.ReactNode}\r\n */\r\nfunction Message({ content }) {\r\n  return <div className={styles.message}>{content}</div>;\r\n}\r\n\r\nfunction parseDateObject(timestamp = new Date().getTime()) {\r\n  const date = new Date(timestamp);\r\n  let hours = date.getHours();\r\n  const minutes = date.getMinutes();\r\n  const meridiem = hours >= 12 ? \"pm\" : \"am\";\r\n  const parsedHours = hours === 0 ? 12 : hours % 12;\r\n  const parsedMinutes = minutes < 10 ? \"0\" + minutes : minutes;\r\n\r\n  const parsedTime = `${parsedHours}:${parsedMinutes}${meridiem}`;\r\n\r\n  const weekday = date.toLocaleString(\"en\", {\r\n    weekday: \"short\",\r\n  });\r\n\r\n  const month = date.toLocaleString(\"en\", {\r\n    month: \"short\",\r\n  });\r\n\r\n  const day = date.getDate();\r\n  const year = date.getFullYear();\r\n\r\n  const parsed = `${parsedTime} on ${weekday}, ${month} ${day}, ${year}`;\r\n\r\n  return parsed;\r\n}\r\n\r\nexport default MessageBunch;\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { conversationRead } from \"../../../../redux/slices/chatSlice\";\r\n\r\nimport ChatInput from \"./molecules/ChatInput/ChatInput\";\r\nimport styles from \"./Chat.module.css\";\r\n\r\nimport MessageBunch from \"./molecules/MessageBunch/MessageBunch\";\r\n\r\nfunction Chat() {\r\n  const dispatch = useDispatch();\r\n\r\n  const { conversationId } = useSelector((state) => state.ui);\r\n  const { conversations } = useSelector((state) => state.chat);\r\n\r\n  const index = conversations.findIndex((x) => x.id === conversationId);\r\n  const conversation = conversations[index];\r\n\r\n  useEffect(() => {\r\n    dispatch(conversationRead(conversationId));\r\n  }, [conversationId, dispatch]);\r\n\r\n  /**\r\n   * Bunch the messages by their outgoing status.\r\n   */\r\n  const bunchMessages = () => {\r\n    const bunches = [];\r\n\r\n    if (!conversation) return [];\r\n    for (let [index, message] of conversation.messages.entries()) {\r\n      const { messages } = conversation;\r\n      const last = messages[index - 1];\r\n\r\n      if (!last) bunches.push([message]);\r\n      else if (last.outgoing !== message.outgoing) bunches.push([message]);\r\n      else bunches[bunches.length - 1].push(message);\r\n    }\r\n\r\n    return bunches;\r\n  };\r\n\r\n  const handleClick = () => dispatch(conversationRead(conversationId));\r\n\r\n  return (\r\n    <div className={styles.container} onClick={handleClick}>\r\n      <div className={styles.messages}>\r\n        {bunchMessages().map((bunch, index) => {\r\n          const { timestamp, outgoing } = bunch[bunch.length - 1];\r\n          return (\r\n            <MessageBunch\r\n              timestamp={timestamp}\r\n              outgoing={outgoing}\r\n              messages={bunch.map(({ content }) => content)}\r\n              key={index}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n      <ChatInput />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Chat;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport styles from \"./ConversationHeader.module.css\";\r\n\r\nimport { FiMessageSquare, FiVideo, FiPhone } from \"react-icons/fi\";\r\n\r\nfunction ConversationHeader() {\r\n  const { conversationId } = useSelector((state) => state.ui);\r\n  const { conversations } = useSelector((state) => state.chat);\r\n\r\n  const index = conversations.findIndex((x) => x.id === conversationId);\r\n  const conversation = conversations[index];\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      {conversation && (\r\n        <>\r\n          <div className={styles.recipient}>\r\n            <div className={styles.avatar_container}>\r\n              <img\r\n                className={styles.avatar}\r\n                src={conversation.target.avatarUrl}\r\n                alt=\"avatar\"\r\n              />\r\n            </div>\r\n            <div className={styles.name}>{conversation.target.name}</div>\r\n          </div>\r\n          <div className={styles.actions}>\r\n            <FiMessageSquare className={`${styles.icon} ${styles.selected}`} />\r\n            <FiVideo className={styles.icon} />\r\n            <FiPhone className={styles.icon} />\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ConversationHeader;\r\n","import React from \"react\";\r\nimport styles from \"./Conversation.module.css\";\r\nimport Chat from \"./molecules/Chat/Chat\";\r\nimport ConversationHeader from \"./molecules/ConversationHeader/ConversationHeader\";\r\n\r\nfunction Conversation() {\r\n  return (\r\n    <div className={styles.container}>\r\n      <ConversationHeader />\r\n      <Chat />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Conversation;\r\n","import React from \"react\";\r\nimport styles from \"./Body.module.css\";\r\n\r\nimport ConversationList from \"../ConversationList/ConversationList\";\r\nimport Conversation from \"../Conversation/Conversation\";\r\n\r\nfunction Body() {\r\n  return (\r\n    <div className={styles.container}>\r\n      <ConversationList></ConversationList>\r\n      <Conversation></Conversation>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Body;\r\n","import Header from \"./components/Header/Header\";\r\nimport Body from \"./components/Body/Body\";\r\n\r\nexport default function App() {\r\n  return (\r\n    <>\r\n      <Header></Header>\r\n      <Body></Body>\r\n    </>\r\n  );\r\n}\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport chat from \"./slices/chatSlice\";\r\nimport ui from \"./slices/uiSlice\";\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    chat,\r\n    ui,\r\n  },\r\n});\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { Provider } from \"react-redux\";\r\nimport { store } from \"./redux/store\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bunch\":\"MessageBunch_bunch__1P66c\",\"outgoing\":\"MessageBunch_outgoing__2JRTk\",\"message\":\"MessageBunch_message__2-AuT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ConversationList_container__1EnO9\",\"list\":\"ConversationList_list__1zWYk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Chat_container__1wJwG\",\"messages\":\"Chat_messages__maSdS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Header_container__2cgAs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Body_container__1x4SJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Conversation_container__3H7kI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ConversationHeader_container__2dDdd\",\"recipient\":\"ConversationHeader_recipient__2eIml\",\"avatar_container\":\"ConversationHeader_avatar_container__3R-01\",\"avatar\":\"ConversationHeader_avatar__ljlOe\",\"name\":\"ConversationHeader_name__31Tgf\",\"actions\":\"ConversationHeader_actions__vMHuu\",\"icon\":\"ConversationHeader_icon__1kCZ0\",\"selected\":\"ConversationHeader_selected__1sBrv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ConversationPreview_container__zDJgH\",\"selected\":\"ConversationPreview_selected__V4ag6\",\"avatar_container\":\"ConversationPreview_avatar_container__2StcY\",\"avatar\":\"ConversationPreview_avatar__2427G\",\"metadata\":\"ConversationPreview_metadata__iCbkL\",\"unread\":\"ConversationPreview_unread__3l_QE\",\"name\":\"ConversationPreview_name__JUMYP\",\"preview\":\"ConversationPreview_preview__WiTVD\",\"empty_preview\":\"ConversationPreview_empty_preview__36r9o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"WindowActions_button__3BcBo\",\"close\":\"WindowActions_close__Ba06I\",\"minimize\":\"WindowActions_minimize__17bpu\",\"fullscreen\":\"WindowActions_fullscreen__2IPb0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ChatInput_container__1xm_w\",\"label\":\"ChatInput_label__2emJP\",\"input\":\"ChatInput_input__2E20D\",\"icon\":\"ChatInput_icon__1IT-O\"};"],"sourceRoot":""}