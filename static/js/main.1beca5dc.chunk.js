(this["webpackJsonpreact-test-chat"]=this["webpackJsonpreact-test-chat"]||[]).push([[0],{13:function(e,n,t){e.exports={container:"Profile_container__337vP",avatar:"Profile_avatar__3msxI",name:"Profile_name__FJPWy",dropdown:"Profile_dropdown__3pEOT"}},14:function(e,n,t){e.exports={container:"ConversationSearch_container__2sZsC",field_region:"ConversationSearch_field_region__2fJMA",icon:"ConversationSearch_icon__2cm5w",input:"ConversationSearch_input__xUc_v",add_conversation:"ConversationSearch_add_conversation__2D_2b"}},1539:function(e,n,t){"use strict";t.r(n);var a=t(1),c=t.n(a),r=t(16),s=t.n(r),i=(t(45),t(37)),o=t.n(i),u=t(8),d=t.n(u),v=t(0);var j=function(){return Object(v.jsxs)("div",{className:d.a.container,children:[Object(v.jsx)("button",{className:"".concat(d.a.button," ").concat(d.a.close)}),Object(v.jsx)("button",{className:"".concat(d.a.button," ").concat(d.a.minimize)}),Object(v.jsx)("button",{className:"".concat(d.a.button," ").concat(d.a.fullscreen)})]})},l=t(13),m=t.n(l),_=t(7),b=t.n(_);var O=function(){return Object(v.jsxs)("div",{className:m.a.container,children:[Object(v.jsx)("div",{className:m.a.avatar_container,children:Object(v.jsx)("img",{src:b.a.image.avatar(),alt:"user avatar",className:m.a.avatar})}),Object(v.jsx)("div",{className:m.a.name,children:b.a.fake("{{name.firstName}} {{name.lastName}}")}),Object(v.jsx)("div",{className:m.a.dropdown})]})};var f=function(){return Object(v.jsxs)("div",{className:o.a.container,children:[Object(v.jsx)(j,{}),Object(v.jsx)(O,{})]})},h=t(38),g=t.n(h),x=t(2),p=t(22),N=t.n(p),w=t(14),C=t.n(w),I=t(5);var y=function(){return Object(v.jsxs)("div",{className:C.a.container,children:[Object(v.jsxs)("label",{className:C.a.field_region,children:[Object(v.jsx)(I.e,{className:C.a.icon}),Object(v.jsx)("input",{className:C.a.input,type:"text",placeholder:"Search..."})]}),Object(v.jsx)("button",{className:C.a.add_conversation,children:Object(v.jsx)(I.a,{})})]})},S=t(12),P=Object(S.b)({name:"ui",initialState:{conversationId:0},reducers:{conversationSwitched:function(e,n){return{conversationId:n.payload}},conversationClosed:function(e,n){}}}),M=P.actions,k=M.conversationSwitched,D=(M.conversationClosed,P.reducer),H=t(3),T=t(10);function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return function(){return++e}}var J=A(),B=A(),E={conversations:Object(T.a)(Array(Math.ceil(15*Math.random()+3))).map((function(){return{id:J(),read:Math.random()>.5,target:{id:B(),name:b.a.fake("{{name.firstName}} {{name.lastName}}"),avatarUrl:b.a.image.avatar()},messages:Object(T.a)(Array(Math.ceil(10*Math.random()))).map((function(){return{timestamp:(new Date).getTime(),content:b.a.hacker.phrase(),outgoing:Math.random()>.5}}))}}))},W=Object(S.b)({name:"chat",initialState:E,reducers:{conversationAdded:function(e,n){},conversationRead:function(e,n){return Object(H.a)(Object(H.a)({},e),{},{conversations:e.conversations.map((function(e){return e.id!==n.payload?e:Object(H.a)(Object(H.a)({},e),{},{read:!0})}))})},messageSent:function(e,n){var t=n.payload,a=t.conversationId,c=t.timestamp,r={timestamp:void 0===c?(new Date).getTime():c,content:t.content,outgoing:!0},s=R(e,a);return Object(H.a)(Object(H.a)({},e),{},{conversations:[Object(H.a)(Object(H.a)({},s),{},{messages:[].concat(Object(T.a)(s.messages),[r])})].concat(Object(T.a)(e.conversations.filter((function(e){return e.id!==a}))))})},messageReceived:function(e,n){var t=n.payload,a=t.conversationId,c=t.timestamp,r={timestamp:void 0===c?(new Date).getTime():c,content:t.content,outgoing:!1},s=R(e,a);return Object(H.a)(Object(H.a)({},e),{},{conversations:[Object(H.a)(Object(H.a)({},s),{},{messages:[].concat(Object(T.a)(s.messages),[r]),read:!1})].concat(Object(T.a)(e.conversations.filter((function(e){return e.id!==a}))))})}}});function R(e,n){var t=e.conversations.findIndex((function(e){return e.id===n}));return e.conversations[t]}var z=W.actions,L=(z.conversationAdded,z.conversationRead),U=z.messageSent,F=z.messageReceived,Y=W.reducer,G=t(6),V=t.n(G);var Z=function(e){var n=e.id,t=e.selected,c=e.read,r=e.name,s=e.avatar,i=e.previewText,o=Object(x.b)();return Object(a.useEffect)((function(){var e=setInterval((function(){o(F({conversationId:n,content:b.a.hacker.phrase()}))}),15e3*Math.random()+3e4);return function(){return clearInterval(e)}}),[o,n]),Object(v.jsxs)("div",{className:"\n        ".concat(V.a.container," \n        ").concat(c?"":V.a.unread," ").concat(t?V.a.selected:""),onClick:function(){return function(e){o(k(e))}(n)},children:[Object(v.jsx)("div",{className:V.a.avatar_container,children:Object(v.jsx)("img",{className:V.a.avatar,src:s,alt:"avatar"})}),Object(v.jsxs)("div",{className:V.a.metadata,children:[Object(v.jsx)("div",{className:V.a.name,children:r}),Object(v.jsx)("div",{className:"".concat(i?V.a.preview:V.a.empty_preview),children:i||"No Messages..."})]})]})};var K=function(){var e=Object(x.c)((function(e){return e.chat})).conversations,n=Object(x.c)((function(e){return e.ui})).conversationId;return Object(v.jsxs)("div",{className:N.a.container,children:[Object(v.jsx)(y,{}),Object(v.jsx)("div",{className:N.a.list,children:e.map((function(e,t){var a=e.id,c=e.read,r=e.target,s=e.messages,i=s[s.length-1],o=i?i.content:"";return Object(v.jsx)(Z,{id:a,selected:n===a,read:c,avatar:r.avatarUrl,name:r.name,previewText:o},t)}))})]})},Q=t(39),q=t.n(Q),X=t(17),$=t(40),ee=t(9),ne=t.n(ee);var te=function(){var e=Object(x.c)((function(e){return e.ui})).conversationId,n=Object(x.b)(),t=Object(a.useState)(""),c=Object(X.a)(t,2),r=c[0],s=c[1];return Object(v.jsxs)("div",{className:ne.a.container,children:[Object(v.jsx)("label",{className:ne.a.label,children:Object(v.jsx)("input",{type:"text",placeholder:"Write a message...",className:ne.a.input,value:r,onChange:function(e){s(e.target.value)},onKeyDown:function(t){"Enter"===t.key&&r&&(n(U({conversationId:e,timestamp:(new Date).getTime(),content:r,outgoing:!0})),s(""))}})}),Object(v.jsxs)("div",{className:ne.a.buttons,children:[Object(v.jsx)(I.c,{className:ne.a.icon}),Object(v.jsx)(I.b,{className:ne.a.icon})]})]})},ae=t(23),ce=t.n(ae),re=t(18),se=t.n(re);function ie(e){var n=e.content;return Object(v.jsx)("div",{className:se.a.message,children:n})}function oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(new Date).getTime(),n=new Date(e),t=n.getHours(),a=n.getMinutes(),c=t>=12?"pm":"am",r=0===t?12:t%12,s=a<10?"0"+a:a,i="".concat(r,":").concat(s).concat(c),o=n.toLocaleString("en",{weekday:"short"}),u=n.toLocaleString("en",{month:"short"}),d=n.getDate(),v=n.getFullYear(),j="".concat(i," on ").concat(o,", ").concat(u," ").concat(d,", ").concat(v);return j}var ue=function(e){var n=e.outgoing,t=e.messages,a=e.timestamp;return Object(v.jsx)("div",{className:"".concat(se.a.bunch," ").concat(n?se.a.outgoing:""),"data-timestamp":oe(a),children:"string"===typeof t?Object(v.jsx)(ie,{content:t}):t.map((function(e,n){return Object(v.jsx)(ie,{content:e},n)}))})};var de=function(){var e=Object(x.b)(),n=Object(x.c)((function(e){return e.ui})).conversationId,t=Object(x.c)((function(e){return e.chat})).conversations,c=t.findIndex((function(e){return e.id===n})),r=t[c];return Object(a.useEffect)((function(){e(L(n))}),[n,e]),Object(v.jsxs)("div",{className:ce.a.container,onClick:function(){return e(L(n))},children:[Object(v.jsx)("div",{className:ce.a.messages,children:function(){var e=[];if(!r)return[];var n,t=Object($.a)(r.messages.entries());try{for(t.s();!(n=t.n()).done;){var a=Object(X.a)(n.value,2),c=a[0],s=a[1],i=r.messages[c-1];i?i.outgoing!==s.outgoing?e.push([s]):e[e.length-1].push(s):e.push([s])}}catch(o){t.e(o)}finally{t.f()}return e}().map((function(e,n){var t=e[e.length-1],a=t.timestamp,c=t.outgoing;return Object(v.jsx)(ue,{timestamp:a,outgoing:c,messages:e.map((function(e){return e.content}))},n)}))}),Object(v.jsx)(te,{})]})},ve=t(4),je=t.n(ve);var le=function(){var e=Object(x.c)((function(e){return e.ui})).conversationId,n=Object(x.c)((function(e){return e.chat})).conversations,t=n.findIndex((function(n){return n.id===e})),a=n[t];return Object(v.jsx)("div",{className:je.a.container,children:a&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:je.a.recipient,children:[Object(v.jsx)("div",{className:je.a.avatar_container,children:Object(v.jsx)("img",{className:je.a.avatar,src:a.target.avatarUrl,alt:"avatar"})}),Object(v.jsx)("div",{className:je.a.name,children:a.target.name})]}),Object(v.jsxs)("div",{className:je.a.actions,children:[Object(v.jsx)(I.b,{className:"".concat(je.a.icon," ").concat(je.a.selected)}),Object(v.jsx)(I.f,{className:je.a.icon}),Object(v.jsx)(I.d,{className:je.a.icon})]})]})})};var me=function(){return Object(v.jsxs)("div",{className:q.a.container,children:[Object(v.jsx)(le,{}),Object(v.jsx)(de,{})]})};var _e=function(){return Object(v.jsxs)("div",{className:g.a.container,children:[Object(v.jsx)(K,{}),Object(v.jsx)(me,{})]})};function be(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(f,{}),Object(v.jsx)(_e,{})]})}var Oe=Object(S.a)({reducer:{chat:Y,ui:D}});s.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(x.a,{store:Oe,children:Object(v.jsx)(be,{})})}),document.getElementById("root"))},18:function(e,n,t){e.exports={bunch:"MessageBunch_bunch__1P66c",outgoing:"MessageBunch_outgoing__2JRTk",message:"MessageBunch_message__2-AuT"}},22:function(e,n,t){e.exports={container:"ConversationList_container__1EnO9",list:"ConversationList_list__1zWYk"}},23:function(e,n,t){e.exports={container:"Chat_container__1wJwG",messages:"Chat_messages__maSdS"}},37:function(e,n,t){e.exports={container:"Header_container__2cgAs"}},38:function(e,n,t){e.exports={container:"Body_container__1x4SJ"}},39:function(e,n,t){e.exports={container:"Conversation_container__3H7kI"}},4:function(e,n,t){e.exports={container:"ConversationHeader_container__2dDdd",recipient:"ConversationHeader_recipient__2eIml",avatar_container:"ConversationHeader_avatar_container__3R-01",avatar:"ConversationHeader_avatar__ljlOe",name:"ConversationHeader_name__31Tgf",actions:"ConversationHeader_actions__vMHuu",icon:"ConversationHeader_icon__1kCZ0",selected:"ConversationHeader_selected__1sBrv"}},45:function(e,n,t){},6:function(e,n,t){e.exports={container:"ConversationPreview_container__zDJgH",selected:"ConversationPreview_selected__V4ag6",avatar_container:"ConversationPreview_avatar_container__2StcY",avatar:"ConversationPreview_avatar__2427G",metadata:"ConversationPreview_metadata__iCbkL",unread:"ConversationPreview_unread__3l_QE",name:"ConversationPreview_name__JUMYP",preview:"ConversationPreview_preview__WiTVD",empty_preview:"ConversationPreview_empty_preview__36r9o"}},8:function(e,n,t){e.exports={button:"WindowActions_button__3BcBo",close:"WindowActions_close__Ba06I",minimize:"WindowActions_minimize__17bpu",fullscreen:"WindowActions_fullscreen__2IPb0"}},9:function(e,n,t){e.exports={container:"ChatInput_container__1xm_w",label:"ChatInput_label__2emJP",input:"ChatInput_input__2E20D",icon:"ChatInput_icon__1IT-O"}}},[[1539,1,2]]]);
//# sourceMappingURL=main.1beca5dc.chunk.js.map