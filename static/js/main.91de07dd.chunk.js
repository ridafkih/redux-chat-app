(this["webpackJsonpreact-test-chat"]=this["webpackJsonpreact-test-chat"]||[]).push([[0],{13:function(e,n,t){e.exports={container:"Profile_container__20-nQ",avatar:"Profile_avatar__1Fdxp",name:"Profile_name__KVEEa",dropdown:"Profile_dropdown__1XJ2n"}},14:function(e,n,t){e.exports={container:"ConversationSearch_container__FdLLY",field_region:"ConversationSearch_field_region__2B6DW",icon:"ConversationSearch_icon__3mzjw",input:"ConversationSearch_input__ypiVV",add_conversation:"ConversationSearch_add_conversation__1iDGN"}},1539:function(e,n,t){"use strict";t.r(n);var a=t(1),c=t.n(a),r=t(16),i=t.n(r),s=(t(45),t(37)),o=t.n(s),u=t(8),d=t.n(u),v=t(0);var j=function(){return Object(v.jsxs)("div",{className:d.a.container,children:[Object(v.jsx)("button",{className:"".concat(d.a.button," ").concat(d.a.close)}),Object(v.jsx)("button",{className:"".concat(d.a.button," ").concat(d.a.minimize)}),Object(v.jsx)("button",{className:"".concat(d.a.button," ").concat(d.a.fullscreen)})]})},l=t(13),m=t.n(l),_=t(7),b=t.n(_);var O=function(){return Object(v.jsxs)("div",{className:m.a.container,children:[Object(v.jsx)("div",{className:m.a.avatar_container,children:Object(v.jsx)("img",{src:b.a.image.avatar(),alt:"user avatar",className:m.a.avatar})}),Object(v.jsx)("div",{className:m.a.name,children:b.a.fake("{{name.firstName}} {{name.lastName}}")}),Object(v.jsx)("div",{className:m.a.dropdown})]})};var f=function(){return Object(v.jsxs)("div",{className:o.a.container,children:[Object(v.jsx)(j,{}),Object(v.jsx)(O,{})]})},h=t(38),g=t.n(h),x=t(2),p=t(22),N=t.n(p),C=t(14),w=t.n(C),I=t(5);var y=function(){return Object(v.jsxs)("div",{className:w.a.container,children:[Object(v.jsxs)("label",{className:w.a.field_region,children:[Object(v.jsx)(I.e,{className:w.a.icon}),Object(v.jsx)("input",{className:w.a.input,type:"text",placeholder:"Search..."})]}),Object(v.jsx)("button",{className:w.a.add_conversation,children:Object(v.jsx)(I.a,{})})]})},S=t(12),M=Object(S.b)({name:"ui",initialState:{conversationId:0},reducers:{conversationSwitched:function(e,n){return{conversationId:n.payload}},conversationClosed:function(e,n){}}}),P=M.actions,k=P.conversationSwitched,A=(P.conversationClosed,M.reducer),D=t(3),W=t(10);function H(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return function(){return++e}}var T=H(),B=H(),F={conversations:Object(W.a)(Array(Math.ceil(15*Math.random()+3))).map((function(){return{id:T(),read:Math.random()>.5,target:{id:B(),name:b.a.fake("{{name.firstName}} {{name.lastName}}"),avatarUrl:b.a.image.avatar()},messages:Object(W.a)(Array(Math.ceil(10*Math.random()))).map((function(){return{timestamp:(new Date).getTime(),content:b.a.hacker.phrase(),outgoing:Math.random()>.5}}))}}))},R=Object(S.b)({name:"chat",initialState:F,reducers:{conversationAdded:function(e,n){},conversationRead:function(e,n){return Object(D.a)(Object(D.a)({},e),{},{conversations:e.conversations.map((function(e){return e.id!==n.payload?e:Object(D.a)(Object(D.a)({},e),{},{read:!0})}))})},messageSent:function(e,n){var t=n.payload,a=t.conversationId,c=t.timestamp,r={timestamp:void 0===c?(new Date).getTime():c,content:t.content,outgoing:!0},i=U(e,a);return Object(D.a)(Object(D.a)({},e),{},{conversations:[Object(D.a)(Object(D.a)({},i),{},{messages:[].concat(Object(W.a)(i.messages),[r])})].concat(Object(W.a)(e.conversations.filter((function(e){return e.id!==a}))))})},messageReceived:function(e,n){var t=n.payload,a=t.conversationId,c=t.timestamp,r={timestamp:void 0===c?(new Date).getTime():c,content:t.content,outgoing:!1},i=U(e,a);return Object(D.a)(Object(D.a)({},e),{},{conversations:[Object(D.a)(Object(D.a)({},i),{},{messages:[].concat(Object(W.a)(i.messages),[r]),read:!1})].concat(Object(W.a)(e.conversations.filter((function(e){return e.id!==a}))))})}}});function U(e,n){var t=e.conversations.findIndex((function(e){return e.id===n}));return e.conversations[t]}var z=R.actions,E=(z.conversationAdded,z.conversationRead),J=z.messageSent,L=z.messageReceived,G=R.reducer,V=t(6),q=t.n(V);var K=function(e){var n=e.id,t=e.selected,c=e.read,r=e.name,i=e.avatar,s=e.previewText,o=Object(x.b)();return Object(a.useEffect)((function(){var e=setInterval((function(){o(L({conversationId:n,content:b.a.hacker.phrase()}))}),15e3*Math.random()+3e4);return function(){return clearInterval(e)}}),[o,n]),Object(v.jsxs)("div",{className:"\n        ".concat(q.a.container," \n        ").concat(c?"":q.a.unread," ").concat(t?q.a.selected:""),onClick:function(){return function(e){o(k(e))}(n)},children:[Object(v.jsx)("div",{className:q.a.avatar_container,children:Object(v.jsx)("img",{className:q.a.avatar,src:i,alt:"avatar"})}),Object(v.jsxs)("div",{className:q.a.metadata,children:[Object(v.jsx)("div",{className:q.a.name,children:r}),Object(v.jsx)("div",{className:"".concat(s?q.a.preview:q.a.empty_preview),children:s||"No Messages..."})]})]})};var X=function(){var e=Object(x.c)((function(e){return e.chat})).conversations,n=Object(x.c)((function(e){return e.ui})).conversationId;return Object(v.jsxs)("div",{className:N.a.container,children:[Object(v.jsx)(y,{}),Object(v.jsx)("div",{className:N.a.list,children:e.map((function(e,t){var a=e.id,c=e.read,r=e.target,i=e.messages,s=i[i.length-1],o=s?s.content:"";return Object(v.jsx)(K,{id:a,selected:n===a,read:c,avatar:r.avatarUrl,name:r.name,previewText:o},t)}))})]})},Y=t(39),Z=t.n(Y),Q=t(17),$=t(40),ee=t(9),ne=t.n(ee);var te=function(){var e=Object(x.c)((function(e){return e.ui})).conversationId,n=Object(x.b)(),t=Object(a.useState)(""),c=Object(Q.a)(t,2),r=c[0],i=c[1];return Object(v.jsxs)("div",{className:ne.a.container,children:[Object(v.jsx)("label",{className:ne.a.label,children:Object(v.jsx)("input",{type:"text",placeholder:"Write a message...",className:ne.a.input,value:r,onChange:function(e){i(e.target.value)},onKeyDown:function(t){"Enter"===t.key&&r&&(n(J({conversationId:e,timestamp:(new Date).getTime(),content:r,outgoing:!0})),i(""))}})}),Object(v.jsxs)("div",{className:ne.a.buttons,children:[Object(v.jsx)(I.c,{className:ne.a.icon}),Object(v.jsx)(I.b,{className:ne.a.icon})]})]})},ae=t(23),ce=t.n(ae),re=t(18),ie=t.n(re);function se(e){var n=e.content;return Object(v.jsx)("div",{className:ie.a.message,children:n})}function oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(new Date).getTime(),n=new Date(e),t=n.getHours(),a=n.getMinutes(),c=t>=12?"pm":"am",r=0===t?12:t%12,i=a<10?"0"+a:a,s="".concat(r,":").concat(i).concat(c),o=n.toLocaleString("en",{weekday:"short"}),u=n.toLocaleString("en",{month:"short"}),d=n.getDate(),v=n.getFullYear(),j="".concat(s," on ").concat(o,", ").concat(u," ").concat(d,", ").concat(v);return j}var ue=function(e){var n=e.outgoing,t=e.messages,a=e.timestamp;return Object(v.jsx)("div",{className:"".concat(ie.a.bunch," ").concat(n?ie.a.outgoing:""),"data-timestamp":oe(a),children:"string"===typeof t?Object(v.jsx)(se,{content:t}):t.map((function(e,n){return Object(v.jsx)(se,{content:e},n)}))})};var de=function(){var e=Object(x.b)(),n=Object(x.c)((function(e){return e.ui})).conversationId,t=Object(x.c)((function(e){return e.chat})).conversations,c=t.findIndex((function(e){return e.id===n})),r=t[c];return Object(a.useEffect)((function(){e(E(n))}),[n,e]),Object(v.jsxs)("div",{className:ce.a.container,onClick:function(){return e(E(n))},children:[Object(v.jsx)("div",{className:ce.a.messages,children:function(){var e=[];if(!r)return[];var n,t=Object($.a)(r.messages.entries());try{for(t.s();!(n=t.n()).done;){var a=Object(Q.a)(n.value,2),c=a[0],i=a[1],s=r.messages[c-1];s?s.outgoing!==i.outgoing?e.push([i]):e[e.length-1].push(i):e.push([i])}}catch(o){t.e(o)}finally{t.f()}return e}().map((function(e,n){var t=e[e.length-1],a=t.timestamp,c=t.outgoing;return Object(v.jsx)(ue,{timestamp:a,outgoing:c,messages:e.map((function(e){return e.content}))},n)}))}),Object(v.jsx)(te,{})]})},ve=t(4),je=t.n(ve);var le=function(){var e=Object(x.c)((function(e){return e.ui})).conversationId,n=Object(x.c)((function(e){return e.chat})).conversations,t=n.findIndex((function(n){return n.id===e})),a=n[t];return Object(v.jsx)("div",{className:je.a.container,children:a&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:je.a.recipient,children:[Object(v.jsx)("div",{className:je.a.avatar_container,children:Object(v.jsx)("img",{className:je.a.avatar,src:a.target.avatarUrl,alt:"avatar"})}),Object(v.jsx)("div",{className:je.a.name,children:a.target.name})]}),Object(v.jsxs)("div",{className:je.a.actions,children:[Object(v.jsx)(I.b,{className:"".concat(je.a.icon," ").concat(je.a.selected)}),Object(v.jsx)(I.f,{className:je.a.icon}),Object(v.jsx)(I.d,{className:je.a.icon})]})]})})};var me=function(){return Object(v.jsxs)("div",{className:Z.a.container,children:[Object(v.jsx)(le,{}),Object(v.jsx)(de,{})]})};var _e=function(){return Object(v.jsxs)("div",{className:g.a.container,children:[Object(v.jsx)(X,{}),Object(v.jsx)(me,{})]})};function be(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(f,{}),Object(v.jsx)(_e,{})]})}var Oe=Object(S.a)({reducer:{chat:G,ui:A}});i.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(x.a,{store:Oe,children:Object(v.jsx)(be,{})})}),document.getElementById("root"))},18:function(e,n,t){e.exports={bunch:"MessageBunch_bunch__2Gu6U",outgoing:"MessageBunch_outgoing__3Nz81",message:"MessageBunch_message__2j-4O"}},22:function(e,n,t){e.exports={container:"ConversationList_container__kmqi8",list:"ConversationList_list__3GWAW"}},23:function(e,n,t){e.exports={container:"Chat_container__3IGBl",messages:"Chat_messages__1D9Mu"}},37:function(e,n,t){e.exports={container:"Header_container__1VC87"}},38:function(e,n,t){e.exports={container:"Body_container__2vgAO"}},39:function(e,n,t){e.exports={container:"Conversation_container__29rWK"}},4:function(e,n,t){e.exports={container:"ConversationHeader_container__2g_T0",recipient:"ConversationHeader_recipient__2UIJP",avatar_container:"ConversationHeader_avatar_container__3Rf6W",avatar:"ConversationHeader_avatar__2lUU9",name:"ConversationHeader_name__1Pq-m",actions:"ConversationHeader_actions__2lTEz",icon:"ConversationHeader_icon__2CCis",selected:"ConversationHeader_selected__3R5AM"}},45:function(e,n,t){},6:function(e,n,t){e.exports={container:"ConversationPreview_container__FZNF9",selected:"ConversationPreview_selected__17oVr",avatar_container:"ConversationPreview_avatar_container__3rnop",avatar:"ConversationPreview_avatar__1XmbG",metadata:"ConversationPreview_metadata__3ClGw",unread:"ConversationPreview_unread__1UIZJ",name:"ConversationPreview_name__tP093",preview:"ConversationPreview_preview__2-YyJ",empty_preview:"ConversationPreview_empty_preview__38x5a"}},8:function(e,n,t){e.exports={button:"WindowActions_button__2We4n",close:"WindowActions_close__2RRqz",minimize:"WindowActions_minimize__Xi0aB",fullscreen:"WindowActions_fullscreen__Mw0fF"}},9:function(e,n,t){e.exports={container:"ChatInput_container__28dS8",label:"ChatInput_label__3VoI2",input:"ChatInput_input__2so-i",icon:"ChatInput_icon__3LJca"}}},[[1539,1,2]]]);
//# sourceMappingURL=main.91de07dd.chunk.js.map